<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <link rel="stylesheet" href="./test.css" />
  <title>CashLens - Budget</title>
</head>

<body class="bg-light">
  <header>
    <h1>CashLens</h1>
    <p>Track your spending, save smarter, and reach your goals.</p>
    <ul class="nav nav-pills nav-fill gap-2 p-1 small bg-primary rounded-5 shadow-sm" id="pillNav2" role="tablist" style="--bs-nav-link-color: var(--bs-white); --bs-nav-pills-link-active-color: var(--bs-primary); --bs-nav-pills-link-active-bg: var(--bs-white);">
        <li class="nav-item" role="presentation">
            <a href="./homepage.html"><button class="nav-link  rounded-5" id="home-tab2" data-bs-toggle="tab" type="button" role="tab" aria-selected="true">Home</button></a>
        </li>
        <li class="nav-item" role="presentation">
            <a href="./budget.html"><button class="nav-link active rounded-5" id="profile-tab2" data-bs-toggle="tab" type="button" role="tab" aria-selected="false">Budget</button></a>
        </li>
        <li class="nav-item" role="presentation">
            <a href="./calendar.html"><button class="nav-link rounded-5" id="contact-tab2" data-bs-toggle="tab" type="button" role="tab" aria-selected="false">Calendar</button></a>
        </li>
    </ul>
  </header>

  <main class="container my-5">
    <div class="card shadow-sm p-4">
      <h2 class="text-center mb-4 text-primary">Monthly Budget Overview</h2>
      <div class="text-center mb-4">
        <h4>Total Balance: <span id="balance" class="fw-bold text-success">$0.00</span></h4>
        <div class="d-flex justify-content-around mt-3">
          <div>
            <p class="mb-1 text-secondary">Income</p>
            <h5 id="income" class="text-success">$0.00</h5>
          </div>
          <div>
            <p class="mb-1 text-secondary">Expenses</p>
            <h5 id="expenses" class="text-danger">$0.00</h5>
          </div>
        </div>
      </div>
      <form id="transaction-form" class="row g-2 mb-4">
        <div class="col-md-5">
          <input type="text" id="description" class="form-control" placeholder="Description" required>
        </div>
        <div class="col-md-3">
          <input type="number" id="amount" class="form-control" placeholder="Amount" required>
        </div>
        <div class="col-md-2">
          <select id="type" class="form-select">
            <option value="income">Income</option>
            <option value="expense">Expense</option>
          </select>
        </div>
        <div class="col-md-2">
          <button type="submit" class="btn btn-primary w-100">Add</button>
        </div>
      </form>
      <h5 class="text-secondary">Recent Transactions</h5>
      <ul class="list-group" id="transaction-list">
        <li class="list-group-item text-muted text-center">No transactions yet</li>
      </ul>
    </div>
  </main>

  <footer class="text-center py-3 mt-auto text-muted">
    <small>Â© 2025 CashLens. All rights reserved.</small>
  </footer>

  <script>
    const balanceEl = document.getElementById('balance');
    const incomeEl = document.getElementById('income');
    const expensesEl = document.getElementById('expenses');
    const form = document.getElementById('transaction-form');
    const list = document.getElementById('transaction-list');

    let income = 0;
    let expenses = 0;

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const desc = document.getElementById('description').value.trim();
      const amount = parseFloat(document.getElementById('amount').value);
      const type = document.getElementById('type').value;

      if (!desc || isNaN(amount)) return;

      const li = document.createElement('li');
      li.classList.add('list-group-item', 'd-flex', 'justify-content-between', 'align-items-center');
      li.innerHTML = `
        <span>${desc}</span>
        <span class="${type === 'income' ? 'text-success' : 'text-danger'}">
          ${type === 'income' ? '+' : '-'}$${amount.toFixed(2)}
        </span>
      `;
      if (list.children[0]?.classList.contains('text-muted')) list.innerHTML = '';

      list.prepend(li);
      if (type === 'income') income += amount;
      else expenses += amount;
      const balance = income - expenses;
      incomeEl.textContent = `$${income.toFixed(2)}`;
      expensesEl.textContent = `$${expenses.toFixed(2)}`;
      balanceEl.textContent = `$${balance.toFixed(2)}`;
      balanceEl.classList.toggle('text-danger', balance < 0);
      balanceEl.classList.toggle('text-success', balance >= 0);

      form.reset();
    });
  </script>
</body>
</html>
